<!DOCTYPE html>
<html lang="ja">

<head>
  <title>testです</title>
</head>

<body>


  <h1 id="title">文字が入っている</h1>
  <script>
    const h1 = document.getElementById("title");
    console.log(h1);
    const title = h1.textContent;
    console.log(title);

    const URL = 'http://localhost:3000/test';

    const test = () => {
      // APIからGETした値に文字を変える
      fetch(URL)
        .then(response => response.json())
        .then(data => {
          console.log(data);
          console.log(data.text);
          h1.textContent = data.text;
        }
        )
    }

    const test2 = () => {
      // シンプルにｈ1の文字を変える
      h1.textContent = "タイトル変更";
    }

    const test3 = () => {
      // APIにdataをPOSTして、帰ってきた値を描画する
      const postData = { username: 'sakruai' };
      fetch(URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(postData),
      })
        .then(response => response.json())
        .then(data => {
          console.log('Success:', data);
          console.log(data);
          h1.textContent = data.comment;
        })
        .catch((error) => {
          console.error('Error:', error);
        });

    }

  </script>
  <button onclick="test()">test()</button>
  <button onclick="test2()">test2()</button>
  <button onclick="test3()">test3()</button>


</body>

</html>